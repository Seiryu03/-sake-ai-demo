<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>APrise - Enterprise AI Assistant Platform</title>
  <link rel="stylesheet" href="styles-v2.css">
</head>
<body>
  <!-- ğŸ¢ Enterprise Grid Background System -->
  <div class="particle-system">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <!-- Enterprise Landing Page -->
  <div class="hero-container">
    <div class="hero-background"></div>
    <div class="hero-content">
      <div class="hero-card">
        <div class="brand-section">
          <div class="brand-logo">
            <span class="logo-text">APrise</span>
            <div class="logo-underline"></div>
          </div>
          <h2 class="brand-subtitle">Fully Customizable AI Assistant Platform</h2>
        </div>
        <div class="hero-description">
          <p class="description-text">
            Experience our enterprise-grade AI assistant platform that adapts to your business needs.<br>
            <strong>Your Brand. Your Colors. Your Voice.</strong> Deploy in minutes, customize in seconds.
          </p>
        </div>

        <div class="customization-showcase">
          <h3 class="showcase-title">Complete Customization Control</h3>
          <div class="customization-grid">
            <div class="customization-item">
              <div class="custom-icon">ğŸ¨</div>
              <h4 class="custom-title">Brand Integration</h4>
              <p class="custom-description">Match your exact brand colors, fonts, and visual identity</p>
            </div>
            <div class="customization-item">
              <div class="custom-icon">ğŸ’¬</div>
              <h4 class="custom-title">Conversation Flow</h4>
              <p class="custom-description">Define responses, tone, and conversation patterns</p>
            </div>
            <div class="customization-item">
              <div class="custom-icon">ğŸ”§</div>
              <h4 class="custom-title">API Integration</h4>
              <p class="custom-description">Connect to your existing systems and databases</p>
            </div>
            <div class="customization-item">
              <div class="custom-icon">ğŸ“Š</div>
              <h4 class="custom-title">Analytics & Insights</h4>
              <p class="custom-description">Track performance and user interactions</p>
            </div>
          </div>
        </div>

        <div class="demo-section">
          <h3 class="demo-title">See It in Action</h3>
          <p class="demo-description">
            This sake e-commerce demo showcases just one of countless possibilities.<br>
            Click the chat button below to experience the platform in action.
          </p>
          <div class="demo-cta">
            <button class="cta-button primary" onclick="openChatDemo()">Try Demo Assistant</button>
            <button class="cta-button secondary" onclick="showEnterpriseDemo()">Request Enterprise Demo</button>
          </div>
        </div>

        <div class="enterprise-footer">
          <p class="enterprise-notice">
            Enterprise-grade security â€¢ White-label ready â€¢ 99.9% uptime SLA
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæœ¬ä½“ -->
  <div class="aprise-chat-widget">
    <!-- å¹ãå‡ºã—ãƒœã‚¿ãƒ³ -->
    <button class="aprise-chat-button" id="chatButton" aria-label="Open chat">
      <svg viewBox="0 0 24 24">
        <path d="M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4C22,2.89 21.1,2 20,2Z"/>
      </svg>
    </button>

    <!-- ãƒãƒ£ãƒƒãƒˆãƒ‘ãƒãƒ« -->
    <div class="aprise-chat-panel" id="chatPanel">
      <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
      <div class="aprise-chat-header">
        <div>
          <div class="aprise-chat-title">APrise Demo</div>
          <div class="aprise-demo-badge">Demo</div>
        </div>
        <div style="display: flex; gap: 8px; align-items: center;">
          <button class="aprise-language-toggle" id="languageToggle">English / æ—¥æœ¬èª</button>
          <button class="aprise-close-button" id="closeButton" aria-label="Close chat">
            <svg viewBox="0 0 24 24">
              <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- ãƒ‡ãƒ¢æ³¨æ„æ›¸ã -->
      <div class="aprise-demo-notice" id="demoNotice">
        This is a demo. Product availability, prices, and shipping terms may differ from the live site.
      </div>

      <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¨ãƒªã‚¢ -->
      <div class="aprise-messages" id="messages">
        <!-- åˆæœŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯JavaScriptã§æŒ¿å…¥ -->
      </div>

      <!-- ã‚¯ã‚¤ãƒƒã‚¯è³ªå•ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ -->
      <div class="aprise-quick-questions" id="quickQuestions">
        <div class="quick-questions-title" id="quickQuestionsTitle">Quick questions</div>
        <div class="quick-questions-buttons" id="quickQuestionsButtons">
          <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
        </div>
      </div>

      <!-- å…¥åŠ›ã‚¨ãƒªã‚¢ -->
      <div class="aprise-input-area">
        <textarea class="aprise-input" id="messageInput" placeholder="Ask about sake styles, flavors, and food pairings..." rows="1"></textarea>
        <button class="aprise-send-button" id="sendButton" aria-label="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡">
          <svg viewBox="0 0 24 24">
            <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒˆãƒ¼ã‚¹ãƒˆ -->
    <div class="aprise-welcome-toast" id="welcomeToast">
      Thanks for checking out this demo. Click the bottom-right chat bubble to open the assistant.
    </div>
  </div>

  <script>
    // ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ©Ÿèƒ½ã®å®Ÿè£…
    class APriseChatBot {
      constructor() {
        this.currentLanguage = 'en';
        this.sakeData = null;
        this.isOpen = false;
        this.isTyping = false;
        
        this.initElements();
        this.loadData();
        this.bindEvents();
        this.showWelcomeToast();
        this.addWelcomeMessage();
        this.setupQuickQuestions();
      }

      initElements() {
        this.chatButton = document.getElementById('chatButton');
        this.chatPanel = document.getElementById('chatPanel');
        this.closeButton = document.getElementById('closeButton');
        this.languageToggle = document.getElementById('languageToggle');
        this.demoNotice = document.getElementById('demoNotice');
        this.messages = document.getElementById('messages');
        this.messageInput = document.getElementById('messageInput');
        this.sendButton = document.getElementById('sendButton');
        this.welcomeToast = document.getElementById('welcomeToast');
        this.quickQuestions = document.getElementById('quickQuestions');
        this.quickQuestionsTitle = document.getElementById('quickQuestionsTitle');
        this.quickQuestionsButtons = document.getElementById('quickQuestionsButtons');
      }

      async loadData() {
        try {
          const response = await fetch('/data/sake_demo.json');
          this.sakeData = await response.json();
        } catch (error) {
          console.error('ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—:', error);
        }
      }

      bindEvents() {
        this.chatButton.addEventListener('click', () => this.toggleChat());
        this.closeButton.addEventListener('click', () => this.closeChat());
        this.languageToggle.addEventListener('click', () => this.toggleLanguage());
        this.sendButton.addEventListener('click', () => this.sendMessage());
        
        this.messageInput.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            this.sendMessage();
          }
        });

        // å…¥åŠ›ã‚¨ãƒªã‚¢ã®è‡ªå‹•èª¿æ•´
        this.messageInput.addEventListener('input', () => {
          this.messageInput.style.height = 'auto';
          this.messageInput.style.height = Math.min(this.messageInput.scrollHeight, 100) + 'px';
        });
      }

      showWelcomeToast() {
        setTimeout(() => {
          this.welcomeToast.classList.add('hide');
          setTimeout(() => {
            this.welcomeToast.style.display = 'none';
          }, 500);
        }, 3000);
      }

      toggleChat() {
        if (this.isOpen) {
          this.closeChat();
        } else {
          this.openChat();
        }
      }

      openChat() {
        this.chatPanel.classList.add('open');
        this.isOpen = true;
        this.messageInput.focus();
        console.log('Chat opened');
      }

      closeChat() {
        this.chatPanel.classList.remove('open');
        this.isOpen = false;
        console.log('Chat closed');
      }

      toggleLanguage() {
        this.currentLanguage = this.currentLanguage === 'ja' ? 'en' : 'ja';
        this.updateLanguage();
        console.log('Language switched to:', this.currentLanguage);
      }

      updateLanguage() {
        if (!this.sakeData) return;

        const messages = this.sakeData.messages;
        const isJapanese = this.currentLanguage === 'ja';

        // UIè¦ç´ ã®æ›´æ–°
        this.demoNotice.textContent = isJapanese ? 
          messages.demo_notice.ja : messages.demo_notice.en;
        
        this.messageInput.placeholder = isJapanese ? 
          'æ—¥æœ¬é…’ã«ã¤ã„ã¦è³ªå•ã—ã¦ãã ã•ã„...' : 'Ask about sake styles, flavors, and food pairings...';

        // è¨€èªãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›´æ–°
        this.languageToggle.textContent = isJapanese ? 'English' : 'æ—¥æœ¬èª';

        // ã‚¯ã‚¤ãƒƒã‚¯è³ªå•ã®è¨€èªã‚’æ›´æ–°
        this.updateQuickQuestionsLanguage();

        // ã‚¦ã‚§ãƒ«ã‚«ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ›´æ–°
        this.updateWelcomeMessage();
      }

      setupQuickQuestions() {
        if (!this.sakeData || !this.sakeData.quickQuestions) {
          setTimeout(() => this.setupQuickQuestions(), 100);
          return;
        }

        this.renderQuickQuestions();
      }

      renderQuickQuestions() {
        const isJapanese = this.currentLanguage === 'ja';
        const messages = this.sakeData.messages;
        
        // ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°
        this.quickQuestionsTitle.textContent = isJapanese ? 
          messages.quickQuestionsTitle.ja : messages.quickQuestionsTitle.en;

        // ãƒœã‚¿ãƒ³ç”Ÿæˆ
        this.quickQuestionsButtons.innerHTML = '';
        
        this.sakeData.quickQuestions.forEach((question, index) => {
          const button = document.createElement('button');
          button.className = 'quick-question-button';
          button.innerHTML = `
            <span class="icon">${question.icon}</span>
            ${isJapanese ? question.textJa : question.textEn}
          `;
          
          button.addEventListener('click', () => {
            const fullQuestion = isJapanese ? question.fullQuestionJa : question.fullQuestionEn;
            this.sendQuickQuestion(fullQuestion);
          });

          this.quickQuestionsButtons.appendChild(button);
        });
      }

      updateQuickQuestionsLanguage() {
        if (!this.sakeData) return;
        this.renderQuickQuestions();
      }

      sendQuickQuestion(question) {
        // è³ªå•ã‚’å…¥åŠ›æ¬„ã«è¨­å®šã—ã¦é€ä¿¡
        this.messageInput.value = question;
        this.sendMessage();
      }

      addWelcomeMessage() {
        if (!this.sakeData) {
          setTimeout(() => this.addWelcomeMessage(), 100);
          return;
        }
        
        const welcomeText = this.currentLanguage === 'ja' ? 
          this.sakeData.messages.welcome.ja : this.sakeData.messages.welcome.en;
        
        this.addMessage(welcomeText, 'assistant', true);
      }

      updateWelcomeMessage() {
        if (!this.sakeData) return;
        
        const firstMessage = this.messages.querySelector('.aprise-message.assistant');
        if (firstMessage) {
          const welcomeText = this.currentLanguage === 'ja' ? 
            this.sakeData.messages.welcome.ja : this.sakeData.messages.welcome.en;
          
          firstMessage.querySelector('.aprise-message-content').textContent = welcomeText;
        }
      }

      async sendMessage() {
        const text = this.messageInput.value.trim();
        if (!text || this.isTyping) return;

        this.addMessage(text, 'user');
        this.messageInput.value = '';
        this.messageInput.style.height = 'auto';
        
        this.showTyping();
        
        // å¿œç­”ã‚’ç”Ÿæˆï¼ˆãƒªã‚¢ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ãªé…å»¶ï¼‰
        const delay = 800 + Math.random() * 700;
        setTimeout(async () => {
          const response = await this.generateResponse(text);
          this.hideTyping();
          this.addMessageWithTypeEffect(response, 'assistant');
        }, delay);
      }

      // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¨ãƒ•ã‚§ã‚¯ãƒˆä»˜ããƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¿½åŠ 
      addMessageWithTypeEffect(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `aprise-message ${sender}`;
        
        const now = new Date();
        const timeString = now.toLocaleTimeString('ja-JP', { 
          hour: '2-digit', 
          minute: '2-digit' 
        });

        const contentDiv = document.createElement('div');
        contentDiv.className = 'aprise-message-content';
        
        const timeDiv = document.createElement('div');
        timeDiv.className = 'aprise-message-time';
        timeDiv.textContent = timeString;
        timeDiv.style.opacity = '0';
        
        messageDiv.appendChild(contentDiv);
        messageDiv.appendChild(timeDiv);
        this.messages.appendChild(messageDiv);

        // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        let index = 0;
        const words = text.split(' ');
        const typeInterval = setInterval(() => {
          if (index < words.length) {
            const word = words[index];
            const formattedWord = word.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            contentDiv.innerHTML += (index > 0 ? ' ' : '') + formattedWord;
            index++;
            this.scrollToBottom();
          } else {
            clearInterval(typeInterval);
            timeDiv.style.opacity = '1';
            timeDiv.style.transition = 'opacity 0.3s ease';
          }
        }, 30);
      }

      addMessage(text, sender, isWelcome = false) {
        const messageDiv = document.createElement('div');
        messageDiv.className = `aprise-message ${sender}`;
        
        const now = new Date();
        const timeString = now.toLocaleTimeString('ja-JP', { 
          hour: '2-digit', 
          minute: '2-digit' 
        });

        // Markdownã®ç°¡æ˜“å‡¦ç†ï¼ˆå¤ªå­—å¯¾å¿œï¼‰
        const formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

        messageDiv.innerHTML = `
          <div class="aprise-message-content">${formattedText}</div>
          <div class="aprise-message-time">${timeString}</div>
        `;

        this.messages.appendChild(messageDiv);
        
        // ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
        requestAnimationFrame(() => {
          this.scrollToBottom();
        });
      }

      showTyping() {
        this.isTyping = true;
        const typingDiv = document.createElement('div');
        typingDiv.className = 'aprise-typing';
        typingDiv.id = 'typing-indicator';
        typingDiv.innerHTML = `
          <div class="aprise-typing-dots">
            <div class="aprise-typing-dot"></div>
            <div class="aprise-typing-dot"></div>
            <div class="aprise-typing-dot"></div>
          </div>
        `;
        this.messages.appendChild(typingDiv);
        this.scrollToBottom();
      }

      hideTyping() {
        this.isTyping = false;
        const typingIndicator = document.getElementById('typing-indicator');
        if (typingIndicator) {
          typingIndicator.remove();
        }
      }

      scrollToBottom() {
        this.messages.scrollTo({
          top: this.messages.scrollHeight,
          behavior: 'smooth'
        });
      }

      async generateResponse(userMessage) {
        if (!this.sakeData) {
          return this.currentLanguage === 'ja' ? 
            'ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­ã§ã™ã€‚ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚' :
            'Loading data, please wait...';
        }

        const message = userMessage.toLowerCase();
        const isJapanese = this.currentLanguage === 'ja';

        // FAQæ¤œç´¢
        const faq = this.sakeData.faqs.find(item => {
          const question = isJapanese ? item.question : item.questionEn;
          return this.fuzzyMatch(message, question.toLowerCase());
        });

        if (faq) {
          return isJapanese ? faq.answer : faq.answerEn;
        }

        // æ—¥æœ¬é…’ã®ç¨®é¡ã«é–¢ã™ã‚‹è³ªå•
        if (message.includes('junmai') || message.includes('ç´”ç±³') || 
            message.includes('ginjo') || message.includes('åŸé†¸') ||
            message.includes('daiginjo') || message.includes('å¤§åŸé†¸')) {
          return this.explainSakeTypes();
        }

        // æ–™ç†ãƒšã‚¢ãƒªãƒ³ã‚°
        if (message.includes('food') || message.includes('pairing') || 
            message.includes('æ–™ç†') || message.includes('ç›¸æ€§') ||
            message.includes('sushi') || message.includes('å¯¿å¸')) {
          return this.suggestFoodPairing(message);
        }

        // å‘³ã‚ã„ã«é–¢ã™ã‚‹è³ªå•
        if (message.includes('taste') || message.includes('flavor') ||
            message.includes('sweet') || message.includes('dry') ||
            message.includes('å‘³') || message.includes('ç”˜') || message.includes('è¾›')) {
          return this.explainTastProfile();
        }

        // æ¸©åº¦ã«é–¢ã™ã‚‹è³ªå•
        if (message.includes('temperature') || message.includes('serve') ||
            message.includes('æ¸©åº¦') || message.includes('å†·') || message.includes('ç‡—')) {
          return this.explainTemperature();
        }

        // å¹´é½¢ãƒ»æ³•å¾‹ã«é–¢ã™ã‚‹è³ªå•
        if (message.includes('age') || message.includes('legal') || message.includes('å¹´é½¢') || 
            message.includes('æœªæˆå¹´') || message.includes('æ³•å¾‹') || message.includes('è¦åˆ¶')) {
          return this.explainLegalRequirements();
        }

        // ä¸€èˆ¬çš„ãªå¿œç­”
        return this.getDefaultResponse();
      }

      explainSakeTypes() {
        if (this.currentLanguage === 'ja') {
          return `**çµè«–**: æ—¥æœ¬é…’ã¯ç²¾ç±³æ­©åˆã¨åŸæ–™ã§3ã¤ã®ä¸»è¦ã‚¿ã‚¤ãƒ—ã«åˆ†é¡ã•ã‚Œã¾ã™ã€‚

**æ ¹æ‹ **: 
ğŸ¶ **ç´”ç±³é…’**: ç±³ãƒ»ç±³ã“ã†ã˜ãƒ»æ°´ã®ã¿ä½¿ç”¨ã€‚é†¸é€ ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ç„¡æ·»åŠ ã®ãŸã‚è±Šã‹ãªã‚³ã‚¯ã¨æ—¨å‘³
ğŸŒ¸ **åŸé†¸é…’**: ç²¾ç±³æ­©åˆ60%ä»¥ä¸‹ã§ä½æ¸©é•·æœŸç™ºé…µã€‚é›‘å‘³ãŒå°‘ãªãè¯ã‚„ã‹ãªé¦™ã‚Š
âœ¨ **å¤§åŸé†¸**: ç²¾ç±³æ­©åˆ50%ä»¥ä¸‹ã§æœ€é«˜ã®æŠ€è¡“ã€‚æ¥µã‚ã¦ç¹Šç´°ã§ä¸Šå“ãªé¦™å‘³

**ãŠã™ã™ã‚**:
1. **åˆå¿ƒè€…ã®æ–¹**: ã«ã”ã‚Šé…’ï¼ˆç”˜å£ã§ã‚¯ãƒªãƒ¼ãƒŸãƒ¼ï¼‰
2. **å’Œé£Ÿã¨åˆã‚ã›ãŸã„**: ç´”ç±³åŸé†¸ï¼ˆãƒãƒ©ãƒ³ã‚¹è‰¯å¥½ï¼‰
3. **ç‰¹åˆ¥ãªæ—¥ã«**: å¤§åŸé†¸ï¼ˆæœ€é«˜ç´šã®å‘³ã‚ã„ï¼‰`;
        } else {
          return `**Conclusion**: Sake styles are defined by rice polishing ratio and ingredients, creating three main categories.

**Why**: 
ğŸ¶ **Junmai**: Only rice, koji, and water - no added alcohol creates rich umami and full flavour
ğŸŒ¸ **Ginjo**: Rice polished to â‰¤60%, slow fermentation at low temperature produces elegant aroma
âœ¨ **Daiginjo**: Rice polished to â‰¤50%, highest brewing skill creates delicate, refined character

**Our recommendations**:
1. **New to sake**: Nigori (creamy, sweet, approachable)
2. **With Japanese cuisine**: Junmai Ginjo (balanced, food-friendly)
3. **Special occasions**: Daiginjo (premium quality, sophisticated)`;
        }
      }

      suggestFoodPairing(message) {
        const suggestions = this.sakeData.sakes.slice(0, 3);
        const isJapanese = this.currentLanguage === 'ja';

        if (isJapanese) {
          return `**çµè«–**: æ–™ç†ã®è„‚åˆ†ã¨å‘³ã®å¼·ã•ã«åˆã‚ã›ã¦æ—¥æœ¬é…’ã‚’é¸ã¶ã®ãŒãƒ™ã‚¹ãƒˆã§ã™ã€‚

**æ ¹æ‹ **: 
ãƒ»è»½ã„æ–™ç†â†’è¯ã‚„ã‹ãªé¦™ã‚Šã®åŸé†¸ç³»ãŒé¦™ã‚Šã‚’é‚ªé­”ã›ãšç›¸æ€§â—
ãƒ»è„‚ã£ã“ã„æ–™ç†â†’é…¸å‘³ã®ã‚ã‚‹ç´”ç±³ç³»ãŒæ²¹ã‚’ã•ã£ã±ã‚Šã¨æ´—ã„æµã™
ãƒ»æ¿ƒã„å‘³ä»˜ã‘â†’ã‚³ã‚¯ã®ã‚ã‚‹ç´”ç±³é…’ãŒæ–™ç†ã«è² ã‘ãªã„

**å…·ä½“çš„ãªææ¡ˆ**:
1. **${suggestions[0].name}** (${suggestions[0].type}) - ${suggestions[0].pairings[0]}ã«æœ€é©ã€${suggestions[0].temp[0]}ã§
2. **${suggestions[1].name}** (${suggestions[1].type}) - ${suggestions[1].pairings[0]}ã¨ã®ç›¸æ€§æŠœç¾¤ã€${suggestions[1].temp[0]}ãŒãŠã™ã™ã‚
3. **${suggestions[2].name}** (${suggestions[2].type}) - ${suggestions[2].pairings[0]}ã¨åˆã‚ã›ã¦${suggestions[2].temp[0]}ã§æ¥½ã—ã‚“ã§`;
        } else {
          return `**Conclusion**: Match sake to food by considering fat content and flavour intensity.

**Why**: 
â€¢ Light dishes â†’ Aromatic ginjo styles complement without overwhelming delicate flavours
â€¢ Rich/oily foods â†’ Junmai with good acidity cuts through fat and cleanses the palate  
â€¢ Strong flavours â†’ Full-bodied junmai can stand up to bold seasonings

**Our recommendations**:
1. **${suggestions[0].name}** (${suggestions[0].typeEn}) - Perfect with ${suggestions[0].pairingsEn[0]}, serve ${suggestions[0].tempEn[0]}
2. **${suggestions[1].name}** (${suggestions[1].typeEn}) - Excellent pairing with ${suggestions[1].pairingsEn[0]}, best ${suggestions[1].tempEn[0]}  
3. **${suggestions[2].name}** (${suggestions[2].typeEn}) - Great alongside ${suggestions[2].pairingsEn[0]}, enjoy ${suggestions[2].tempEn[0]}`;
        }
      }

      explainTastProfile() {
        if (this.currentLanguage === 'ja') {
          return `æ—¥æœ¬é…’ã®å‘³ã‚ã„ã¯ä¸»ã«4ã¤ã®è¦ç´ ã§æ±ºã¾ã‚Šã¾ã™ï¼š

ğŸ¯ **ç”˜è¾›åº¦**: ç³–åˆ†ã®å¤šã•ã§æ±ºã¾ã‚‹ç”˜å£ãƒ»è¾›å£
ğŸ‹ **é…¸åº¦**: ã•ã£ã±ã‚Šã—ãŸé…¸å‘³ã®å¼·ã•
ğŸŒŠ **æ¿ƒæ·¡**: ã‚³ã‚¯ã®ã‚ã‚‹æ¿ƒé†‡ãƒ»è»½ã‚„ã‹ãªæ·¡éº—
ğŸŒ¸ **é¦™ã‚Š**: è¯ã‚„ã‹ãªåŸé†¸é¦™ã‹ã‚‰ç©ã‚„ã‹ãªã‚‚ã®ã¾ã§

ã©ã‚“ãªå‘³ã‚ã„ãŒãŠå¥½ã¿ã§ã™ã‹ï¼Ÿ`;
        } else {
          return `Sake flavor profiles are defined by four main elements:

ğŸ¯ **Sweetness**: From sweet (amakuchi) to dry (karakuchi)
ğŸ‹ **Acidity**: Crisp, refreshing tartness
ğŸŒŠ **Body**: From rich (nÅjun) to light (tanrei)
ğŸŒ¸ **Aroma**: From fruity ginjo aromas to subtle, clean scents

What flavor profile interests you most?`;
        }
      }

      explainTemperature() {
        if (this.currentLanguage === 'ja') {
          return `**çµè«–**: æ—¥æœ¬é…’ã¯æ¸©åº¦ã§å…¨ãç•°ãªã‚‹è¡¨æƒ…ã‚’è¦‹ã›ã‚‹ã€ä¸–ç•Œã§ã‚‚çã—ã„ãŠé…’ã§ã™ã€‚

**æ ¹æ‹ **: 
ãƒ»ä½æ¸©(8-10Â°C)â†’é¦™ã‚Šæˆåˆ†ãŒç©ã‚„ã‹ã«ç«‹ã¡ä¸ŠãŒã‚Šã€åŸé†¸é¦™ãŒæœ€ã‚‚ç¾ã—ãæ„Ÿã˜ã‚‰ã‚Œã‚‹
ãƒ»å¸¸æ¸©(15-18Â°C)â†’é…’æœ¬æ¥ã®ãƒãƒ©ãƒ³ã‚¹ãŒåˆ†ã‹ã‚Šã€é€ ã‚Šæ‰‹ã®æ„å›³ã—ãŸå‘³ã‚ã„ã‚’ä½“é¨“
ãƒ»ç‡—é…’(40-55Â°C)â†’ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ãŒé£›ã³æ—¨å‘³ãŒæ¿ƒç¸®ã€ä½“ã‚‚æ¸©ã¾ã‚Šæ—¥æœ¬ã®æ–‡åŒ–çš„ãªæ¥½ã—ã¿æ–¹

**æ¸©åº¦åˆ¥ãŠã™ã™ã‚**:
1. **å†·é…’(8-10Â°C)**: å¤§åŸé†¸ãƒ»åŸé†¸ - å¤å ´ã‚„é£Ÿå‰é…’ã¨ã—ã¦
2. **å¸¸æ¸©(15-18Â°C)**: ç´”ç±³åŸé†¸ - é£Ÿäº‹ã¨åˆã‚ã›ã‚‹åŸºæœ¬ã®æ¸©åº¦
3. **ã¬ã‚‹ç‡—(40-45Â°C)**: ç´”ç±³é…’ - å¯’ã„å­£ç¯€ã‚„é‹æ–™ç†ã¨ä¸€ç·’ã«`;
        } else {
          return `**Conclusion**: Sake's unique ability to taste completely different at various temperatures makes it remarkably versatile.

**Why**: 
â€¢ Chilled (8-10Â°C) â†’ Volatile compounds release slowly, showcasing delicate ginjo aromatics
â€¢ Room temperature (15-18Â°C) â†’ True flavour balance emerges, showing the brewer's intended character
â€¢ Warmed (40-55Â°C) â†’ Alcohol softens, umami concentrates, traditional Japanese cultural experience

**Temperature recommendations**:
1. **Well chilled (8-10Â°C)**: Daiginjo & Ginjo - Summer evenings or as an aperitif
2. **Room temperature (15-18Â°C)**: Junmai Ginjo - Perfect with meals, shows true balance  
3. **Gently warmed (40-45Â°C)**: Junmai - Winter comfort, excellent with hot pot dishes`;
        }
      }

      explainLegalRequirements() {
        if (this.currentLanguage === 'ja') {
          return `**çµè«–**: æ—¥æœ¬é…’ã¯å¹´é½¢åˆ¶é™ã®ã‚ã‚‹ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«é£²æ–™ã§ã™ã€‚

**æ³•çš„è¦ä»¶**:
ğŸ‡¯ğŸ‡µ **æ—¥æœ¬**: 20æ­³ä»¥ä¸Šã§é£²é…’å¯èƒ½
ğŸ‡¬ğŸ‡§ **è‹±å›½**: 18æ­³ä»¥ä¸Šã§é£²é…’å¯èƒ½
ğŸŒ **ãã®ä»–**: å›½ãƒ»åœ°åŸŸã«ã‚ˆã‚Šç•°ãªã‚‹è¦å®šãŒã‚ã‚Šã¾ã™

**é‡è¦äº‹é …**:
1. **æœªæˆå¹´è€…ã¸ã®è²©å£²ãƒ»æä¾›ã¯æ³•å¾‹ã§ç¦æ­¢**
2. **ç¯€åº¦ã‚ã‚‹é©é‡ã§ã®é£²é…’ã‚’æ¨å¥¨**
3. **å¦Šå¨ ä¸­ãƒ»æˆä¹³ä¸­ã®é£²é…’ã¯ãŠæ§ãˆãã ã•ã„**

ã“ã®ãƒ‡ãƒ¢ã¯æ•™è‚²ç›®çš„ã§ã‚ã‚Šã€å®Ÿéš›ã®è²©å£²ã¯å„å›½ã®æ³•ä»¤ã«å¾“ã„ã¾ã™ã€‚`;
        } else {
          return `**Conclusion**: Sake is an alcoholic beverage subject to age restrictions.

**Legal requirements**:
ğŸ‡¯ğŸ‡µ **Japan**: Minimum age 20 years
ğŸ‡¬ğŸ‡§ **United Kingdom**: Minimum age 18 years  
ğŸŒ **Other regions**: Varying regulations apply

**Important notes**:
1. **Sale to minors is strictly prohibited by law**
2. **We encourage responsible, moderate consumption**
3. **Not recommended during pregnancy or breastfeeding**

This demo is for educational purposes - actual sales must comply with local legislation.`;
        }
      }

      getDefaultResponse() {
        const responses = {
          ja: [
            'ã™ã¿ã¾ã›ã‚“ã€ãã®è³ªå•ã«ã¤ã„ã¦ã¯è©³ã—ããŠç­”ãˆã§ãã¾ã›ã‚“ã€‚æ—¥æœ¬é…’ã®ç¨®é¡ã‚„æ–™ç†ã¨ã®ç›¸æ€§ã«ã¤ã„ã¦èã„ã¦ã¿ã¦ãã ã•ã„ã€‚',
            'ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€ãƒ‡ãƒ¢ç‰ˆã®ãŸã‚è©³ç´°ãªæƒ…å ±ã¯æä¾›ã§ãã¾ã›ã‚“ã€‚ç´”ç±³ãƒ»åŸé†¸ãƒ»å¤§åŸé†¸ã®é•ã„ã‚„ã€ãŠæ–™ç†ã¨ã®ãƒšã‚¢ãƒªãƒ³ã‚°ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ',
            'ãã®ä»¶ã«ã¤ã„ã¦ã¯ãƒ‡ãƒ¢ç‰ˆã§ã¯å¯¾å¿œã—ã¦ãŠã‚Šã¾ã›ã‚“ã€‚æ—¥æœ¬é…’ã®å‘³ã‚ã„ã‚„æœ€é©ãªæ¸©åº¦ã«ã¤ã„ã¦è³ªå•ã—ã¦ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿ'
          ],
          en: [
            "I'm sorry, I cannot provide detailed information on that topic. Please ask about sake styles or food pairings.",
            "This is a demo version with limited information. Would you like to know about junmai, ginjo, or daiginjo styles?",
            "I cannot answer that in this demo. Feel free to ask about sake flavors, serving temperatures, or food recommendations."
          ]
        };

        const responseList = responses[this.currentLanguage];
        return responseList[Math.floor(Math.random() * responseList.length)];
      }

      fuzzyMatch(input, target) {
        // ã‚·ãƒ³ãƒ—ãƒ«ãªéƒ¨åˆ†ä¸€è‡´æ¤œç´¢
        const inputWords = input.split(' ');
        const targetWords = target.split(' ');
        
        return inputWords.some(word => 
          targetWords.some(targetWord => 
            targetWord.includes(word) || word.includes(targetWord)
          )
        );
      }
    }

    // ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã‚’åˆæœŸåŒ–
    document.addEventListener('DOMContentLoaded', () => {
      window.apriseChat = new APriseChatBot();
    });

    // Enterprise Demo Functions
    function openChatDemo() {
      // ãƒãƒ£ãƒƒãƒˆãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
      document.getElementById('chatButton').click();
      
      // ã‚¹ãƒ ãƒ¼ã‚ºã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åŠ¹æœ
      const chatButton = document.getElementById('chatButton');
      chatButton.scrollIntoView({ behavior: 'smooth', block: 'center' });
      
      // ãƒœã‚¿ãƒ³ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœã‚’è¿½åŠ 
      chatButton.style.animation = 'pulse 0.6s ease-in-out';
      setTimeout(() => {
        chatButton.style.animation = '';
      }, 600);
    }

    function showEnterpriseDemo() {
      // ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’è¡¨ç¤º
      const modal = document.createElement('div');
      modal.className = 'enterprise-modal';
      modal.innerHTML = `
        <div class="modal-backdrop" onclick="closeEnterpriseModal()"></div>
        <div class="modal-content">
          <div class="modal-header">
            <h2>Enterprise Demo Request</h2>
            <button onclick="closeEnterpriseModal()" class="modal-close">&times;</button>
          </div>
          <div class="modal-body">
            <p>Experience the full power of APrise's enterprise platform with:</p>
            <ul>
              <li>âœ¨ Complete white-label customization</li>
              <li>ğŸ”§ Advanced API integrations</li>
              <li>ğŸ“Š Comprehensive analytics dashboard</li>
              <li>ğŸ›¡ï¸ Enterprise-grade security</li>
              <li>ğŸš€ Multi-language support (50+ languages)</li>
            </ul>
            <div class="contact-form">
              <input type="email" placeholder="Your business email" />
              <input type="text" placeholder="Company name" />
              <textarea placeholder="Tell us about your use case..."></textarea>
              <button class="cta-button primary full-width" onclick="submitEnterpriseRequest()">
                Schedule Enterprise Demo
              </button>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
      setTimeout(() => modal.classList.add('show'), 10);
    }

    function closeEnterpriseModal() {
      const modal = document.querySelector('.enterprise-modal');
      if (modal) {
        modal.classList.remove('show');
        setTimeout(() => modal.remove(), 300);
      }
    }

    function submitEnterpriseRequest() {
      // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ API å‘¼ã³å‡ºã—
      alert('Thank you! We\'ll contact you within 24 hours to schedule your personalized enterprise demo.');
      closeEnterpriseModal();
    }

    // Pulse animation keyframes
    const style = document.createElement('style');
    style.textContent = `
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>